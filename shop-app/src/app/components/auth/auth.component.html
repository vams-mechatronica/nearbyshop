<div class="modal-header">
  <h5 class="modal-title">Login</h5>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss()"></button>
</div>

<div class="modal-body">
  <form (ngSubmit)="showOtpInput ? login() : sendOtp()">
    <!-- Phone input -->
    <div *ngIf="!showOtpInput">
      <label for="phone" class="form-label">Phone Number</label>
      <div class="input-group mb-3">
        <span class="input-group-text"><i class="fas fa-phone"></i></span>
        <input
          type="tel"
          class="form-control"
          id="phone"
          [(ngModel)]="phone"
          name="phone"
          placeholder="Enter phone number"
          required
        />
      </div>
      <button type="submit" class="btn btn-primary w-100">Send OTP</button>
    </div>

    <!-- OTP input -->
    <div *ngIf="showOtpInput">
      <label for="otp" class="form-label">OTP</label>
      <div class="input-group mb-3">
        <span class="input-group-text"><i class="fas fa-key"></i></span>
        <input
          type="text"
          class="form-control"
          id="otp"
          [(ngModel)]="otp"
          name="otp"
          maxlength="4"
          placeholder="Enter OTP"
          required
        />
      </div>
      <button type="submit" class="btn btn-success w-100">Login</button>

      <div class="text-center mt-3">
        <small class="text-muted">
          OTP sent to <strong>{{ phone }}</strong>
          <button type="button" class="btn btn-link p-0 ms-2" (click)="showOtpInput = false">
            <i class="fas fa-edit"></i>
          </button>
        </small>
      </div>
    </div>
  </form>
</div>
